include "tel"
include "tools"
include "blacklist"

akka {
  remote {
    netty.tcp {
      hostname = localhost        # external (logical) hostname
      port = 1234                 # external (logical) port

      bind-hostname = 172.18.0.2  # internal (bind) hostname
      bind-port = 1234            # internal (bind) port
    }
  }
}

# Play http configuration
# ~~~~~
play {
  assets {
    path = "/public"
    urlPrefix = "/assets"
  }

  # Play Framework cache name definitons
  # ~~~~~
  #
  cache {
    createBoundCaches = false
    bindCaches = ["userCache", "wsActorCache", "resultCache"]
  }

  # CSRF Configuration
  filters {
    csrf {
      cookie.name = "CSRF-Token"
      header.name = "X-CSRF-Token"
    }
  }
    http {
      router = MainRouter
      # Set POST max text size
      parser.maxMemoryBuffer = 64000k

      # Play Framework session cookie configdock
      # ~~~~~
      session {
        # Cookie maximum age in ms
        maxAge = 1209600000 # 14 days
        # allow client side session cookie
        httpOnly = false
      }
    }

    # The application languages
    # ~~~~~
    i18n.langs = ["en"]

    # Mailer
    # ~~~~~
    # This configures the E-Mail server connection
    mailer {
      host = smtp.gmail.com
      port = 465
      ssl = yes
      tls = yes
      user = ${MAIL_USER}
      password = ${MAIL_PWD}
    }

    modules.enabled += "modules.ActorModule"
    modules.enabled += "play.modules.reactivemongo.ReactiveMongoModule"

  }


# Play Framework assets configuration
# ~~~~~
play.assets {
  path = "/public"
  urlPrefix = "/assets"
}


# Mailer
# ~~~~~
# This configures the E-Mail server connection
play.mailer {
  host = smtp.gmail.com
  port = 465
  user = ${MAIL_USER}
  password = ${MAIL_PWD}
}

play.application.loader = ToolkitAppLoader

####################################################################################

base_path = "/ebio/abt1_share"
base_path = ${?TK_BASE_PATH}

# geoIP
maxmind_db = ${base_path}"/toolkit_support1/data/GeoLite2-City.mmdb"
maxmind_db = ${?MAXMIND_DB}

mongodb.uri = "mongodb://balata.eb.local:27017/tkplay_dev"
mongodb.uri = ${?MONGODB_URI}

modeller_key = "unset"
modeller_key = ${?MODELLER_KEY}

# scripts
server_scripts = "lib/"
server_scripts = ${?SCRIPT_URL}

job_path = "development"

deletion_log_path = "deletion.log"

#DYNAMIC PROP KEY/VALUE PAIRS
DBROOT = ${base_path}"/toolkit_sync/databases"

STANDARDDB = ${DBROOT}"/standard"

BIOPROGROOT = ${base_path}"/toolkit_support1/code/bioprogs"

ENVIRONMENT = ${BIOPROGROOT}"/env/environment.sh"

HELPER = ${BIOPROGROOT}"/helpers"

PERLLIB = ${BIOPROGROOT}"/lib"

# include extending file with secrets
include "application-ext"
